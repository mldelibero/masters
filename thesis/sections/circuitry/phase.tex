\subsection{Phase}

This setion describes the phase circutry shown on Schematic Page: 8. The circuit measures both the phase of the input sine wave and the phase of the resultant current waveform through the DUT. It uses two, redundant phase measurement techniques.

The first technique utilizes an RF phase detector (AD8302) in a low frequency configuration as per AN-691 \cite{AD8302_AppNote}. The capacitors on the inputs tune the front end high pass filter of the IC to roughly 20Hz. The phase measurement is accomplished internally by a magnitude independent phase multiplier configuration. The output conisists of a 10mV per degree signal that is lowpassed at 2Hz to prevent aliasing. The filtered signal is then fed to the ADC for digitization.

The second technique is added for a low frequency comparison against the RF phase detector. The comparator acts as a sine to square wave converter. The default configuration does not include hysteresis, but provisions for it are available if needed. The outputs of the two converters are fed into timer inputs on the microcontroller. The phase is then calculated by measuring the period of the signals and the time between their rising edges.

